<div>
  <form [formGroup]="flightSearchForm" (ngSubmit)="onSubmit(flightSearchForm)">
    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="12px" fxFlex="100">

      <!-- Departure input field -->
      <div fxLayout="column" fxFlex="100" fxLayoutGap="4px">
        <div class="form--label" i18n>DEPARTURE FROM</div>
        <input formControlName="departure" maxlength="3" placeholder="From" pattern="[A-Za-z0-9]+" class="font-bold input--uppercase"
          [ngClass]="{'input-error' : (flightSearchForm.get('departure').hasError('required') && flightSearchForm.get('departure').touched) 
        || (flightSearchForm.get('departure')?.errors?.minlength && flightSearchForm.get('departure').touched)
        || (flightSearchForm.get('departure')?.hasError('pattern'))}">

        <mat-error *ngIf="flightSearchForm.get('departure').hasError('required') && flightSearchForm.get('departure').touched" i18n>
          Enter departure city
        </mat-error>
        <mat-error *ngIf="flightSearchForm.get('departure')?.errors?.minlength && flightSearchForm.get('departure').touched" i18n>
          Enter minimum 3 characters
        </mat-error>
        <mat-error *ngIf="flightSearchForm.get('departure')?.hasError('pattern')" i18n>
          Special characters are not allowed!
        </mat-error>
      </div>

      <!-- Arrival input field -->
      <div fxLayout="column" fxFlex="100" fxLayoutGap="4px">
        <div class="form--label" i18n>ARRIVAL AT</div>
        <input formControlName="arrival" maxlength="3" placeholder="To" pattern="[A-Za-z0-9]+" class="font-bold input--uppercase"
          [ngClass]="{'input-error' : (flightSearchForm.get('arrival').hasError('required') && flightSearchForm.get('arrival').touched) 
        || (flightSearchForm.get('arrival')?.errors?.minlength && flightSearchForm.get('arrival').touched) 
        || (flightSearchForm.get('arrival')?.hasError('pattern'))}">

        <mat-error *ngIf="flightSearchForm.get('arrival').hasError('required') && flightSearchForm.get('arrival').touched" i18n>
          Enter arrival destination
        </mat-error>
        <mat-error *ngIf="flightSearchForm.get('arrival')?.errors?.minlength && flightSearchForm.get('arrival').touched" i18n>
          Enter minimum 3 characters
        </mat-error>
        <mat-error *ngIf="flightSearchForm.get('arrival')?.hasError('pattern')" i18n>
          Special characters are not allowed!
        </mat-error>
      </div>

      <!-- Departure date input field -->
      <div fxLayout="column" fxFlex="100" fxLayoutGap="4px">
        <div class="form--label" i18n>DEPARTURE DATE</div>
        <div fxLayout="row" class="datepicker-container pos-rel">

          <input matInput formControlName='depDate' [min]="today" (dateChange)="depDateChange($event, 'depDate')" [matDatepicker]="depPicker"
            [value]="" placeholder="dd mmm yyyy" readonly #fromDatech>
          <div class="dateIcon">
            <mat-datepicker-toggle matSuffix [for]="depPicker" [disableRipple]="true">
              <img src="assets/images/calendar_icon.svg" class="datepickerIcon" alt="" matDatepickerToggleIcon>
            </mat-datepicker-toggle>
            <mat-datepicker #depPicker></mat-datepicker>
          </div>
        </div>
        <mat-error *ngIf="flightSearchForm.get('depDate').hasError('required') && flightSearchForm.get('depDate').touched" i18n>
          Enter departure date
        </mat-error>
      </div>


      <!-- Return date input field -->
      <div fxLayout="column" fxFlex="100" fxLayoutGap="4px">
        <div class="form--label" i18n>RETURN DATE</div>
        <div fxLayout="row" class="datepicker-container pos-rel">

          <input matInput formControlName='arrDate' [min]="today" (dateChange)="arrDateChange($event, 'arrDate')" [matDatepicker]="arrPicker"
            [value]="" placeholder="dd mmm yyyy" readonly>
          <div class="dateIcon">
            <mat-datepicker-toggle matSuffix [for]="arrPicker">
              <img src="assets/images/calendar_icon.svg" class="datepickerIcon" alt="" matDatepickerToggleIcon>
            </mat-datepicker-toggle>
            <mat-datepicker #arrPicker></mat-datepicker>
          </div>
        </div>

        <mat-error *ngIf="flightSearchForm.get('arrDate').hasError('required') && flightSearchForm.get('arrDate').touched" i18n>
          Enter arrival date
        </mat-error>

      </div>

      <!-- Action buttons -->
      <div fxLayout="row" fxFlex="100" fxLayoutGap="8px">
        <button mat-raised-button type="submit" [disabled]="flightSearchForm.invalid" class="button--search" i18n>
          Search
        </button>

        <button mat-raised-button type="reset" class="button--reset" i18n>
          Reset
        </button>
      </div>

    </div>
  </form>
</div>